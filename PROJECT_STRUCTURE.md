# Структура проекта Telegram бота

## Обзор архитектуры

Проект построен по принципам чистой архитектуры (Clean Architecture) с четким разделением на слои. Каждый слой имеет свою зону ответственности и минимально зависит от других слоев.

## Структура директорий

```
├── a_settings/              # Конфигурация и настройки
│   ├── __init__.py
│   ├── config.py           # Управление настройками и переменными окружения
│   └── .env               # Файл с переменными окружения (не включается в Git)
│
├── b_core/                 # Ядро приложения
│   ├── __init__.py
│   ├── bot_manager.py     # Управление экземплярами бота и диспетчера
│   └── start.py          # Точка входа в приложение
│
├── c_presentation/         # Слой представления
│   ├── __init__.py
│   └── routers/          # Маршрутизация команд и сообщений
│       ├── __init__.py
│       ├── admin_router.py    # Обработчики админ-команд
│       └── command_router.py  # Обработчики пользовательских команд
│
├── d_domain/              # Бизнес-логика
│   ├── __init__.py
│   └── tasks_logic.py    # Логика обработки задач
│
├── d_integrations/        # Внешние интеграции
│   ├── __init__.py
│   ├── notifier/         # Система уведомлений
│   │   ├── __init__.py
│   │   └── dispatcher.py
│   └── sheets/          # Интеграция с Google Sheets
│       └── __init__.py
│
├── d_plugins/            # Подключаемые плагины
│   ├── __init__.py
│   └── example_plugin.py # Пример создания плагина
│
├── __init__.py           # Корневой инициализатор пакета
└── requirements.txt      # Зависимости проекта
```

## Описание компонентов

### a_settings/
Отвечает за конфигурацию приложения. Здесь хранятся все настройки, включая:
- Токен бота
- Настройки режима отладки
- Креденшелы для внешних сервисов
- Другие конфигурационные параметры

### b_core/
Ядро приложения, содержащее основную логику запуска и управления ботом:
- Инициализация бота и диспетчера
- Настройка логирования
- Подключение всех компонентов

### c_presentation/
Слой представления, отвечающий за взаимодействие с пользователем:
- Роутеры для обработки команд
- Разделение на админские и пользовательские команды
- Обработка сообщений и callback-запросов

### d_domain/
Бизнес-логика приложения:
- Основные алгоритмы работы
- Обработка задач
- Валидация данных

### d_integrations/
Интеграции с внешними сервисами:
- Система уведомлений
- Работа с Google Sheets
- Другие внешние API

### d_plugins/
Система плагинов для расширения функциональности:
- Примеры создания плагинов
- Загрузка и управление плагинами

## Принципы разработки

1. **Модульность**: Каждый компонент максимально независим
2. **Расширяемость**: Легкое добавление новых функций через плагины
3. **Чистая архитектура**: Четкое разделение на слои
4. **DRY (Don't Repeat Yourself)**: Избегание дублирования кода
5. **SOLID**: Следование принципам объектно-ориентированного проектирования

## Рекомендации по разработке

1. Новые команды добавляются в соответствующие роутеры
2. Бизнес-логика размещается в d_domain
3. Интеграции с внешними сервисами - в d_integrations
4. Конфигурационные параметры - в a_settings/config.py
5. Новая функциональность может быть добавлена через систему плагинов